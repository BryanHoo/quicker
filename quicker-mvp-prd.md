
# Quicker for macOS（MVP）需求文档（PRD）

## 1. 背景与目标

### 1.1 背景

macOS 原生剪切板只保留最后一条内容，用户在多任务编辑、写作、开发、运营等场景中频繁需要“找回刚才复制过的内容”。同类最佳实践普遍采用**键盘优先、快速唤出、列表选择、回车/快捷键直接粘贴**的模式，并提供基础隐私控制（如忽略某些 App 的剪切板内容）。([raycast.com][1])

### 1.2 产品目标（MVP）

在不打断当前工作流的前提下，提供一个“居中面板”式的剪切板历史选择与粘贴体验：

* 1 秒内完成：唤出 → 选择 → 粘贴 → 返回工作
* 键盘操作覆盖 100% 核心路径
* 设置入口符合 macOS 惯例（`⌘,` 打开设置）([Apple Developer][2])

### 1.3 非目标（MVP 不做）

* 文本块（Snippets）唤出与管理（仅预留扩展位置）
* 图片/文件等非文本剪切板类型
* 云同步、多设备同步
* 复杂搜索、标签、Pin、收藏等高级能力（可在后续迭代）

---

## 2. 竞品与最佳实践要点（用于约束需求）

### 2.1 键盘优先与“快速直达”

* 同类工具普遍强调：**设置一个热键快速打开历史面板**，并支持在面板内用上下键选择、回车确认。([raycast.com][1])
* 常见增强：**数字键快速选择（如 ⌘+数字）**，减少导航成本。([GitHub][3])

### 2.2 macOS 快捷键规范与冲突处理

* Apple 建议：为高频动作提供快捷键，但不要“挪用”用户已形成预期的标准快捷键，并注意系统保留快捷键。([Apple Developer][4])
* `⌘⇧V` 在很多应用里常用于“粘贴并匹配样式/无格式粘贴”，存在认知与冲突风险，因此需求中必须包含“可改键 + 冲突提示”。（这是需求层面体验约束，不涉及实现）

### 2.3 设置窗口惯例

* `⌘,` 是 macOS 打开设置窗口的标准方式；Apple HIG 明确提到可以用该快捷键打开自定义设置窗口。([Apple Developer][2])
* Tab 视图建议不要超过 6 个 Tab。([Apple Developer][5])

### 2.4 隐私与可控性

* 剪切板工具最佳实践通常提供：限制历史条数、清理、忽略某些应用（如密码/敏感应用），以降低隐私风险与误收集。([alfredapp.com][6])

---

## 3. 用户与使用场景

### 3.1 目标用户

* 高频复制粘贴用户：开发者、运营、写作者、产品经理、设计师等
* 多任务切换用户：需要在多个 App 间搬运文本片段

### 3.2 核心场景（MVP 覆盖）

1. 复制了多段文字，需要找回其中某段再次粘贴
2. 刚复制的内容被覆盖，想从历史里找回
3. 打开面板后用键盘快速选中并粘贴，尽量不碰鼠标
4. 想调整历史条数/忽略某些 App/修改快捷键等基础设置

---

## 4. 功能需求（Functional Requirements）

### 4.1 剪切板历史记录

**FR-1：记录范围**

* 仅记录**文本类型**剪切板内容（MVP）
* 按时间倒序展示（最新在最前）
* 支持设置“最大历史条数”（详见设置需求）

**FR-2：去重策略（MVP 可简化）**

* 提供至少一种去重策略（建议默认“相邻去重”）
* 去重策略作为可选设置项（MVP 可做：开/关 或 相邻去重）

**FR-3：清理**

* 需求层面必须支持“清空历史”的入口（可放设置页）
* 清空后面板应立即反映为空状态

---

### 4.2 居中剪切板面板（Clipboard Panel）

**FR-4：唤出与关闭**

* 全局快捷键：`⌘ + ⇧ + V` 唤出面板（默认值）
* `Esc` 关闭面板
* 面板关闭后不影响用户继续在当前 App 输入

**FR-5：列表与分页**

* 面板居中显示历史列表
* **每页最多显示 5 条**
* 支持分页浏览（翻页触发方式见交互需求；MVP 可先支持键盘翻页）

**FR-6：选择与粘贴**

* `↑ / ↓` 移动选中项
* `Enter`：将选中项粘贴到“当前正在输入的目标位置”，并关闭面板
* 面板打开时默认选中“最新一条”（优先符合用户习惯）

**FR-7：快捷粘贴（本页 1–5）**

* 在面板打开时：

  * `⌘ + 1`：选择本页第 1 条并立即粘贴
  * `⌘ + 2..5` 类推
* 若本页不足 5 条：

  * 按不存在的序号不应产生粘贴动作（可提示轻微反馈，但不强制）

**FR-8：空状态**

* 当历史为空时显示空态文案（例如“暂无历史记录”）
* 快捷键行为保持一致（可关闭、可进设置）

---

### 4.3 设置面板（Settings）

**FR-9：快捷入口与互斥显示**

* 当剪切板面板打开时按 `⌘ + ,`：

  * **关闭剪切板面板**
  * 打开设置面板
* `⌘,` 的行为符合 macOS 标准设置快捷键惯例。([Apple Developer][2])

**FR-10：模块结构（Tab）**

* 设置面板顶部 Tab：**通用 / 剪切板 / 关于**
* Tab 数量保持精简，符合 HIG 对 Tab 数量的建议（≤6）。([Apple Developer][5])

**FR-11：通用（MVP）**

* 开机自启：开/关
* 快捷键设置入口：

  * 可修改“唤出剪切板面板”的快捷键
  * 提示：不要占用系统保留快捷键或与常用快捷键冲突（详见 NFR-2）([Apple Developer][4])

**FR-12：剪切板（MVP）**

* 最大历史条数（默认值由产品设定，如 200）
* 去重策略（至少提供 1 种开关/选项）
* 忽略应用列表（可选但强烈建议纳入 MVP 的最小形态）：

  * 用户可添加“被忽略的 App”
  * 被忽略 App 中发生的复制不进入历史（隐私最佳实践）([alfredapp.com][6])
* 一键清空历史

**FR-13：关于（MVP）**

* 应用名称、版本号
* 反馈/联系信息
* 开源/官网（如有）

---

## 5. 交互与体验需求（UX Requirements）

### 5.1 键盘交互（面板内）

* `↑/↓`：逐条移动，达到边界时不越界（MVP 推荐不循环，避免误操作）
* `Enter`：确认并粘贴（与 Alfred“回车自动粘贴”的习惯一致）([掘金][7])
* `⌘+1..5`：快速粘贴（与 Maccy/Raycast 这类“数字直选”一致）([GitHub][3])
* 分页：

  * 需求上要求“支持分页”，翻页手势可定义为 `←/→` 或 `PageUp/PageDown`（二选一即可，MVP 不做多套）
  * 显示页码提示（如“2/10”）

### 5.2 信息展示（列表项）

每条最多展示两层信息（避免视觉噪音）：

* 主文本：内容预览（超长省略）
* 辅助信息（可选）：复制时间（相对时间即可，如“2m ago”）

### 5.3 反馈与容错

* 粘贴成功后面板立即关闭
* 若无法粘贴到目标位置（例如目标不可输入），应给出轻量反馈（声音/提示条均可，MVP 可先做最简单提示）
* 快捷键冲突：

  * 在设置里修改快捷键时，应提示冲突风险（尤其是系统/常用快捷键）([Apple Developer][4])

---

## 6. 非功能需求（Non-functional Requirements）

### 6.1 兼容性

* 支持 **macOS 14 及以上**

### 6.2 快捷键规范与可用性

* 默认 `⌘⇧V` 可能与“粘贴并匹配样式”产生认知冲突，因此必须满足：

  1. 默认值可改
  2. 明确提示“不要覆盖系统保留快捷键/常用快捷键”([Apple Developer][4])

### 6.3 隐私与用户信任

* 需求层面必须保证：

  * 历史记录可控（限量、可清空）
  * 支持忽略指定 App（降低敏感数据进入历史的概率）([alfredapp.com][6])
* 在关于页或设置页提供简短说明：应用会读取剪切板用于历史功能（透明化告知）

### 6.4 可用性与可访问性

* 所有核心功能可纯键盘完成
* 面板与设置支持系统字体大小变化时仍可用（不要求完美适配，但不能遮挡到无法操作）

---

## 7. MVP 验收标准（Acceptance Criteria）

1. 在任意 App 前台时按 `⌘⇧V` 能唤出居中面板；`Esc` 关闭。
2. 面板最多显示 5 条历史；可翻页查看更多历史；显示当前页信息。
3. `↑/↓` 可移动选中；`Enter` 将选中项粘贴到前台 App 并关闭面板。
4. 面板打开时 `⌘1..⌘5` 可直接粘贴本页对应项并关闭面板。
5. 面板打开时按 `⌘,`：历史面板关闭，设置面板打开，且 Tab 为“通用/剪切板/关于”。([Apple Developer][2])
6. 设置里可修改唤出快捷键；可设置最大历史条数；可清空历史；关于页能展示版本信息。
   7.（若纳入 MVP）可配置忽略应用：被忽略 App 的复制不会进入历史。([alfredapp.com][6])

---

## 8. 后续扩展预留（不实现，仅定义边界）

### 8.1 文本块（Snippets）

* 设置面板新增 Tab：「文本块」（符合 Tab 数量建议）([Apple Developer][5])
* 文本块支持增删改
* 文本块唤出方式：与剪切板历史同样的“居中面板选择并插入/粘贴”交互模型（复用交互规范）

引用：

[1]: https://www.raycast.com/core-features/clipboard-history?utm_source=chatgpt.com "Clipboard History for Mac - Raycast"
[2]: https://developer.apple.com/design/human-interface-guidelines/settings?utm_source=chatgpt.com "Settings | Apple Developer Documentation"
[3]: https://github.com/p0deje/Maccy/blob/master/README.md?utm_source=chatgpt.com "Maccy/README.md at master · p0deje/Maccy · GitHub"
[4]: https://developer.apple.com/design/human-interface-guidelines/keyboards?utm_source=chatgpt.com "Keyboards | Apple Developer Documentation"
[5]: https://developer.apple.com/design/human-interface-guidelines/tab-views?utm_source=chatgpt.com "Tab views | Apple Developer Documentation"
[6]: https://www.alfredapp.com/help/features/clipboard/accessing-clipboard-history/?utm_source=chatgpt.com "Using Clipboard History Items In Workflows and Snippets"
[7]: https://juejin.cn/post/6995411681396391972?utm_source=chatgpt.com "Mac效率神器Alfred教程：Alfred的剪切板历史记录功能"
